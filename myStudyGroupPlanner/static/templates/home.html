<head>
  <link rel="stylesheet" href="../styleSheets/styles.css">
</head>
<!--LEFT COLUMN CONTENT: TABS-->
<div>
	<div class=tabs>
	<ul class="nav nav-pills center-pills" role="tablist">
		<li ng-class="{active:vm.isSelected(1)}">
			<a href="/home" ng-click="vm.selectTab(1)">Search</a>
		</li>
		<li ng-class="{active:vm.isSelected(2)}">
			<a href="/home" ng-click="vm.selectTab(2)">Create Group</a>
		</li>
		<li ng-class="{active:vm.isSelected(3)}">
			<a href="/home" ng-click="vm.selectTab(3)">Join Private Group</a>
		</li>
	</ul>
	<!--SEARCH TAB-->
	<div class="searchTab">
		<div ng-show="vm.isSelected(1) && vm.showSearchResults===false">
			<h3>Class</h3>
			<center>
			<div><select ng-model="vm.selectedSubject">
				<option value="" disabled selected hidden>Subject</option>
				<option ng-repeat="subject in vm.subjects">{{subject}}</option>
			</select></div>
			<div><select ng-model="vm.selectedClass">
				<option value="" disabled selected hidden>Class</option>
				<option ng-repeat="class in vm.classes">{{class}}</option>
			</select></div>
			<div><select ng-model="vm.selectedSection">
				<option value="" disabled selected hidden>Section</option>
				<option ng-repeat="section in vm.sections">{{section}}</option>
			</select></div>
			<div><input type="radio" ng-model="vm.selectedOpen" value="Open"/> Open groups only</div>
			<div><h3><button ng-click="vm.showSearchResults=true" class="btn btn-primary btn-sm"> Search </button></h3></div>
			</center>
		</div>
	</div>
	<!--CREATE GROUP TAB-->
	<div class="createTabs" ng-show="vm.isSelected(2)">
			<form role="form" name="createGroups">
			<b>Group Name: </b>
			<input type="text" class="from-control" id="groupName" ng-model="vm.groupFields.groupName"><br>
			<b>Class Info: </b>
			<div>
				<select ng-model="vm.groupFields.groupSubject">
					<option value="" disabled selected hidden>Subject</option>
					<option ng-repeat="subject in vm.subjects">{{subject}}</option>
				</select>
				<select ng-model="vm.groupFields.groupClass">
					<option value="" disabled selected hidden>Class</option>
					<option ng-repeat="class in vm.classes">{{class}}</option>
				</select>
				<select ng-model="vm.groupFields.groupSection">
					<option value="" disabled selected hidden>Section</option>
					<option ng-repeat="section in vm.sections">{{section}}</option>
				</select>
			</div>
			<b>Maximum Number of Members: </b>
			<input type="number" class="from-control" id="maxmbrs" ng-model="vm.groupFields.groupMaxMembers">(Default of 30 members per group)<br>
			<b>Access Type</b>
			<div class="accessType">
				<input type="radio" name="setAccess" ng-model="vm.groupFields.groupAccessType" value="Open" style="margin-left:24px;"/> Open
				<input type="radio" name="setAccess" ng-model="vm.groupFields.groupAccessType" value="Closed" style="margin-left:24px;"/> Closed
				<input type="radio" name="setAccess" ng-model="vm.groupFields.groupAccessType" value="Public" style="margin-left:24px;"/> Private
			</div>
			<b>Meeting Permission for Members</b>
			<div class="permLevel">
				<input type="radio" name="setPerms" ng-model="vm.groupFields.groupPermissionLevel" value="2" style="margin-left:24px;"/> Anyone
				<input type="radio" name="setPerms" ng-model="vm.groupFields.groupPermissionLevel" value="1" style="margin-left:24px;"/> Creator Nominated & Creator
				<input type="radio" name="setPerms" ng-model="vm.groupFields.groupPermissionLevel" value="0" style="margin-left:24px;"/> Creator Only
			</div>
			<div class="button">
				<button class="btn btn-primary btn-sm" ng-click="vm.selectTab(1)"> Cancel </button>
				<button class="btn btn-primary btn-sm" ng-click="vm.createGroup()"> Create Group </button>
				{{vm.status}}
			</div>
		</form>
	</div>

	<!--JOIN PRIVATE GROUP TAB-->
	<div class="GroupAccessCode" ng-show="vm.isSelected(3)">
			Group Access Code:
			<input type="text" ng-model="vm.privateCodeToSubmit" placeholder="Type Code Here" style="height:28px;margin-left:15px; padding-left:3px;"></textarea>
		<div class="button"><button ng-click="vm.showSearchResults=false" class="btn btn-primary btn-sm"> Join </button></div>
	</div>
	<!--SEARCH RESULTS-->
	<div ng-show="vm.isSelected(1) && vm.showSearchResults===true">
		<h3>Search results</h3>

		<table>
		<tr>
			<th>ID</th>
			<th>Name</th>
			<th>Owner</th>
			<th># Members</th>
			<th>Type</th>
		</tr>
			<tr ng-repeat="group in vm.currentGroups | filter:vm.selectedClass | filter:vm.selectedSubject | filter:vm.selectedSection | filter:vm.selectedOpen" style="border:1px solid black;">
				<td>{{group["id"]}}</td>
				<td>{{group["groupName"]}}</td>
				<td>{{group["groupOwner"]}}</td>
				<td>{{group["memberCount"]}}</td>
				<td>{{group["access"]}}</td>
				<td><button > Join </button></td>
			</tr>
		</table>
		<div align="center"><button ng-click="vm.showSearchResults=false" class="btn btn-primary btn-md"> New Search </button></div>
	</div>
</div>
<!--RIGHT COLUMN CONTENT:  CURRENT GROUPS/CALENDAR/UPCOMING MEETINGS-->
<div class="information">
	<!--GROUPS-->
	<div class="currentGrps">
		<h3>Current Groups</h3>

		<ul ng-repeat="group in vm.currentGroups">
			<li><a href="/groupMember">{{group["groupName"]}}</a></li>
		</ul>


	</div class="homeCalendar">
	<!--CALENDAR-->
	<div class="currentGrps">

			<div pickadate ng-model="vm.date" format="mm/dd/yyyy"></div>
			<!-- The below line will be commented out, just here now to show that it's working-->
			<div class="selected-date">Selected date is {{vm.date || '(no date selected)'}}</div>

	</div>
	<!--MEETINGS-->
	<div class="meetingDetail">
		<div>{{vm.calendarDate}}</div>
		<ul ng-repeat="meetingInfo in vm.currentMeetings" style="list-style: none; padding:0px;">
			<li ng-repeat="info in meetingInfo">{{info}}</li>
		</ul>
	</div>
</div>
</div>
